{% load static %}
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Sugerencia de Cita</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body{background:linear-gradient(135deg,#ff6600 0%,#00aaff 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;font-family:'Segoe UI',Tahoma}
    .card{max-width:760px;width:100%;border:3px solid #00aaff;border-radius:15px;box-shadow:0 8px 30px rgba(0,0,0,.15)}
    .btn-primary{background:linear-gradient(45deg,#00aaff,#0077cc);border:none;font-weight:600}
    .btn-primary:hover{background:linear-gradient(45deg,#ff6600,#cc5200)}
  </style>
</head>
<body>
  <div class="card p-4">
    <img src="{% static 'img/logo.jpg' %}" style="width:120px;margin:0 auto 10px;display:block">
    <h3 class="text-center" style="color:#ff6600;font-weight:800;">Sugerencia de Cita</h3>

    {% if sugerencia %}
      <div class="alert alert-info mt-3">
        Se encontr√≥ la primera disponibilidad con <strong>{{ sugerencia.medico.nombre }}</strong>
        ({{ sugerencia.medico.especialidad }}) para el
        <strong>{{ sugerencia.fecha }}</strong> a las <strong>{{ sugerencia.hora }}</strong>.
      </div>

      <form method="post" class="d-flex gap-2">
        {% csrf_token %}
        <input type="hidden" name="medico_id" value="{{ sugerencia.medico.id }}">
        <input type="hidden" name="fecha" value="{{ sugerencia.fecha }}">
        <input type="hidden" name="hora" value="{{ sugerencia.hora }}">
        <button name="accion" value="aceptar" class="btn btn-primary">Aceptar</button>
        <button name="accion" value="rechazar" class="btn btn-secondary" type="submit">Buscar otra</button>
      </form>
    {% else %}
      <div class="alert alert-warning mt-3">
        No encontramos disponibilidad con los criterios indicados. Ajusta tus preferencias.
      </div>
    {% endif %}

    <hr>
    <h6 class="mt-2">Cambiar criterios</h6>
    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button class="btn btn-outline-primary">Buscar nuevamente</button>
    </form>
  </div>
</body>
</html>
